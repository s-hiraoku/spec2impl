# init.sh Templates

Tech-stack-specific templates for the `init.sh` development script.

## Template Overview

| Tech Stack | Commands | Description |
|------------|----------|-------------|
| Node.js | start, test, build, lint | Generic Node.js projects |
| Next.js | start, test, build, lint, db, studio | Next.js with Prisma |
| Python | start, test, lint, format, migrate | Django/FastAPI/Flask |
| Go | start, test, build, lint | Go projects |
| Rust | start, test, build, lint, fmt | Rust projects |
| Generic | start, test, build | Fallback template |

---

## Node.js Template

```bash
#!/bin/bash
# Auto-generated by spec2impl initializer

set -e

case "$1" in
    start)
        echo "Starting development server..."
        npm run dev
        ;;
    test)
        echo "Running tests..."
        npm test
        ;;
    build)
        echo "Building project..."
        npm run build
        ;;
    lint)
        echo "Running linter..."
        npm run lint
        ;;
    *)
        echo "Usage: ./init.sh {start|test|build|lint}"
        exit 1
        ;;
esac
```

**Works with:** Express, Fastify, NestJS, Vite, and other Node.js frameworks.

---

## Next.js Template

```bash
#!/bin/bash
# Auto-generated by spec2impl initializer

set -e

case "$1" in
    start)
        echo "Starting Next.js development server..."
        npm run dev
        ;;
    test)
        echo "Running tests..."
        npm test
        ;;
    build)
        echo "Building Next.js project..."
        npm run build
        ;;
    lint)
        echo "Running linter..."
        npm run lint
        ;;
    db)
        echo "Running database migrations..."
        npx prisma migrate dev
        ;;
    studio)
        echo "Opening Prisma Studio..."
        npx prisma studio
        ;;
    *)
        echo "Usage: ./init.sh {start|test|build|lint|db|studio}"
        exit 1
        ;;
esac
```

**Includes:** Prisma database commands for common Next.js + Prisma setups.

---

## Python Template

```bash
#!/bin/bash
# Auto-generated by spec2impl initializer

set -e

# Activate virtual environment if exists
if [ -d "venv" ]; then
    source venv/bin/activate
elif [ -d ".venv" ]; then
    source .venv/bin/activate
fi

case "$1" in
    start)
        echo "Starting development server..."
        if [ -f "manage.py" ]; then
            python manage.py runserver
        elif [ -f "app.py" ] || [ -f "main.py" ]; then
            uvicorn main:app --reload
        else
            python -m flask run --reload
        fi
        ;;
    test)
        echo "Running tests..."
        pytest
        ;;
    lint)
        echo "Running linter..."
        ruff check .
        ;;
    format)
        echo "Formatting code..."
        ruff format .
        ;;
    migrate)
        echo "Running migrations..."
        if [ -f "manage.py" ]; then
            python manage.py migrate
        else
            alembic upgrade head
        fi
        ;;
    *)
        echo "Usage: ./init.sh {start|test|lint|format|migrate}"
        exit 1
        ;;
esac
```

**Auto-detects:** Django, FastAPI, Flask frameworks.

---

## Go Template

```bash
#!/bin/bash
# Auto-generated by spec2impl initializer

set -e

case "$1" in
    start)
        echo "Starting Go server..."
        go run .
        ;;
    test)
        echo "Running tests..."
        go test ./...
        ;;
    build)
        echo "Building binary..."
        go build -o bin/app .
        ;;
    lint)
        echo "Running linter..."
        golangci-lint run
        ;;
    *)
        echo "Usage: ./init.sh {start|test|build|lint}"
        exit 1
        ;;
esac
```

**Works with:** Gin, Echo, Fiber, and other Go frameworks.

---

## Rust Template

```bash
#!/bin/bash
# Auto-generated by spec2impl initializer

set -e

case "$1" in
    start)
        echo "Starting Rust server..."
        cargo run
        ;;
    test)
        echo "Running tests..."
        cargo test
        ;;
    build)
        echo "Building release..."
        cargo build --release
        ;;
    lint)
        echo "Running clippy..."
        cargo clippy
        ;;
    fmt)
        echo "Formatting code..."
        cargo fmt
        ;;
    *)
        echo "Usage: ./init.sh {start|test|build|lint|fmt}"
        exit 1
        ;;
esac
```

**Works with:** Actix, Axum, Rocket, and other Rust frameworks.

---

## claude-progress.txt Template

```
# Claude Progress Log
# Project: {project_name}
# Generated: {date}
# Tech Stack: {tech_stack}

================================================================================
## Current Session
================================================================================

Started:
Current Task:
Status:

--------------------------------------------------------------------------------
### Working Notes

(Add notes as you work)

================================================================================
## Completed Tasks
================================================================================

(none yet)

================================================================================
## Blocked / Needs Attention
================================================================================

(none yet)

================================================================================
## Session History
================================================================================

### Session 1 - {date}
- Started:
- Completed:
- Notes:
```

### Usage Guidelines

1. **Update Current Session** at the start of each work session
2. **Move completed items** to Completed Tasks section
3. **Log blockers** immediately in Blocked section
4. **Create new Session entry** for each work session

---

## Customization

### Adding Custom Commands

Edit `init.sh` to add project-specific commands:

```bash
case "$1" in
    # ... existing commands ...

    seed)
        echo "Seeding database..."
        npx prisma db seed
        ;;

    docker)
        echo "Starting Docker containers..."
        docker-compose up -d
        ;;

    # ... rest of commands ...
esac
```

### Environment Variables

Add environment loading at the top of init.sh:

```bash
#!/bin/bash
set -e

# Load environment variables
if [ -f ".env" ]; then
    export $(cat .env | grep -v '^#' | xargs)
fi

# ... rest of script ...
```
